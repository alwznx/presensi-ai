## ğŸ“¸ Sistem Absensi Kelas Multi-Face Berbasis AI

Sistem manajemen kehadiran cerdas yang mampu **mendeteksi dan mengenali banyak wajah sekaligus** dalam satu frame (foto/kamera). Dibangun dengan arsitektur **Fullstack**, menggunakan **Python (AI Engine)** dan **React.js**, serta terintegrasi dengan **Supabase Cloud** untuk penyimpanan data dan bukti foto realtime.

---

## ğŸ”¥ Fitur Utama

### ğŸ§  Kecerdasan Buatan (AI)

* **Multi-Face Detection**: Mendeteksi hingga **20+ wajah** dalam satu foto kelas.
* **Face Recognition**: Membedakan siswa terdaftar dan wajah **"Unknown"**.
* **Anti-Spoofing Dasar**: Validasi visual dengan **Bounding Box**.

### ğŸ’» Frontend (React + Vite)

* **Dual Mode Absensi**: Upload foto atau webcam langsung.
* **Admin Panel**: Halaman khusus guru (**Password Protected**).
* **Realtime Feedback**: Menampilkan hasil deteksi visual (kotak **Hijau/Merah**) secara langsung.

### âš™ï¸ Backend (FastAPI)

* **High Performance**: Menggunakan `BackgroundTasks` agar proses database tidak menghambat UI.
* **Auto Learning**: Registrasi wajah baru cukup **1 foto** (re-training otomatis).
* **Cloud Integration**: Upload bukti kehadiran ke **Supabase Storage**.

---

## ğŸ› ï¸ Teknologi yang Digunakan

**Backend**

* Python 3.11
* FastAPI, Uvicorn

**AI / Computer Vision**

* face_recognition (dlib-based)
* OpenCV
* NumPy

**Frontend**

* React.js
* Vite
* Axios
* CSS Modules

**Database & Storage**

* Supabase (PostgreSQL)
* Supabase Storage (Bucket)

---

## ğŸš€ Cara Install & Menjalankan (Localhost)

### Prasyarat

* Python **3.10 atau 3.11** (disarankan)
* Node.js **v18+**
* **Visual Studio C++ Build Tools** (wajib untuk Windows â€“ agar `dlib` bisa di-install)

---

### 1ï¸âƒ£ Setup Backend (Python)

```bash
# Masuk ke folder root
cd absensi-ai

# Buat Virtual Environment
python -m venv venv

# Aktifkan Virtual Environment
# Windows
venv\Scripts\activate

# Mac / Linux
source venv/bin/activate

# Install dependency
pip install fastapi uvicorn opencv-python "numpy<2" face_recognition python-multipart supabase
```

#### Konfigurasi Supabase

Buka file `main.py`, lalu isi:

```python
SUPABASE_URL = "https://your-project.supabase.co"
SUPABASE_KEY = "your-anon-public-key"
```

---

### 2ï¸âƒ£ Setup Frontend (React)

Buka terminal baru (backend tetap berjalan).

```bash
cd frontend
npm install
```

> Tidak perlu install library webcam tambahan (menggunakan HTML5 native).

---

## ğŸ—„ï¸ Setup Database (Supabase)

### ğŸ“„ Tabel `absensi_log`

Jalankan query berikut di **Supabase SQL Editor**:

```sql
create table absensi_log (
  id bigint generated by default as identity primary key,
  created_at timestamptz default now(),
  nama text not null,
  lokasi_wajah text,
  status text default 'Hadir',
  foto_url text
);
```

### ğŸª£ Storage Bucket

1. Masuk ke menu **Storage â†’ New Bucket**
2. Nama bucket: `foto_absensi`
3. Aktifkan **Public Bucket**

### ğŸ” Storage Policy

* Masuk ke **Storage â†’ Policies**
* Pilih bucket `foto_absensi`
* Buat policy baru:

  * **INSERT** dan **SELECT**
  * `WITH CHECK`: `true`
  * `USING`: `true`

> âš ï¸ Wajib agar Python backend bisa upload foto.

---

## â–¶ï¸ Menjalankan Aplikasi

### Terminal 1 â€“ Backend

```bash
uvicorn main:app --reload
```

Backend berjalan di:
ğŸ‘‰ [http://127.0.0.1:8000](http://127.0.0.1:8000)

### Terminal 2 â€“ Frontend

```bash
cd frontend
npm run dev
```

Frontend berjalan di:
ğŸ‘‰ [http://localhost:5173](http://localhost:5173)

---

## ğŸ“± Panduan Penggunaan

### ğŸ‘¨â€ğŸ“ Mode Absensi (Siswa)

1. Buka website
2. Pilih **Upload Foto** atau **Kamera**
3. Sistem mendeteksi wajah
4. Jika dikenali â†’ status **Hadir**
5. Jika tidak â†’ status **Unknown**

### ğŸ‘¨â€ğŸ« Mode Admin (Guru)

* Klik menu **âš™ï¸ Admin Panel**
* Password: `admin123`

**Fitur Admin:**

* Daftar wajah siswa (nama + foto)
* Melatih AI secara otomatis
* Melihat riwayat absensi realtime beserta bukti foto

---

## ğŸ¤ Troubleshooting

### âŒ Error CMake / dlib saat install

**Solusi:**

* Install **Visual Studio C++ Build Tools**
* Centang **Desktop development with C++**

### âŒ Error versi NumPy

```bash
pip install "numpy<2"
```

### âŒ Upload Supabase Error 403

**Solusi:**

* Cek **Storage Policy**
* Pastikan `INSERT` & `SELECT` diizinkan (`true`)

---

âœ¨ Dibuat dengan â¤ï¸ untuk pembelajaran **Fullstack AI**.
